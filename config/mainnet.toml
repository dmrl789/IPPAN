# IPPAN Mainnet Configuration
# This configuration is optimized for production mainnet deployment

[network]
# Network configuration for mainnet
listen_addr = "0.0.0.0:8080"
bootstrap_nodes = [
    "12D3KooWMainnet1@mainnet1.ippan.network:8080",
    "12D3KooWMainnet2@mainnet2.ippan.network:8080",
    "12D3KooWMainnet3@mainnet3.ippan.network:8080"
]
max_connections = 10000
connection_timeout = 30
enable_nat = true
enable_relay = true
enable_dht = true
dht_bootstrap_interval = 300
enable_metrics = true
metrics_port = 9090

# P2P security (enabled for mainnet)
enable_tls = true
enable_mutual_auth = true
certificate_path = "/ssl/ippan.crt"
private_key_path = "/ssl/ippan.key"
ca_certificate_path = "/ssl/ca.crt"

[storage]
# Storage configuration for mainnet
db_path = "/data/ippan.db"
max_storage_size = 1073741824000  # 1TB
shard_size = 1048576  # 1MB
replication_factor = 3
enable_encryption = true
encryption_key_path = "/keys/storage.key"
proof_interval = 3600
backup_interval = 3600  # 1 hour
backup_retention_days = 30
enable_compression = true
compression_level = 6

# Performance optimizations
enable_memory_pool = true
memory_pool_size = 2147483648  # 2GB
enable_batch_processing = true
batch_size = 10000
enable_caching = true
cache_size = 4294967296  # 4GB

[consensus]
# Consensus configuration for mainnet
block_time = 100  # 100ms for high throughput
max_block_size = 10485760  # 10MB
validator_count = 21  # Production validator count
stake_threshold = 1000000000  # 10 IPN for mainnet
enable_byzantine_tolerance = true
max_byzantine_validators = 7
enable_view_change = true
view_change_timeout = 5000  # 5 seconds
enable_double_spending_detection = true
enable_fork_choice_rule = true

# Performance optimizations
enable_parallel_validation = true
validation_threads = 16
enable_batch_validation = true
batch_validation_size = 1000

[api]
# API configuration for mainnet
listen_addr = "0.0.0.0:3000"
cors_origins = ["https://ippan.network", "https://app.ippan.network"]
rate_limit = 100000
timeout = 30
enable_metrics = true
metrics_path = "/metrics"
enable_swagger = false  # Disabled for production
swagger_path = "/docs"
enable_health_check = true
health_check_path = "/health"

# Security (enabled for mainnet)
enable_authentication = true
jwt_secret_path = "/keys/jwt.secret"
session_timeout = 3600
enable_rate_limiting = true
rate_limit_window = 60
max_requests_per_window = 100000

[performance]
# Performance configuration for mainnet
enable_lockfree = true
enable_memory_pool = true
memory_pool_size = 2147483648  # 2GB
enable_batch_processing = true
batch_size = 10000
thread_pool_size = 32
enable_caching = true
cache_size = 4294967296  # 4GB
enable_serialization_optimization = true
enable_compression = true
compression_level = 6

# High-throughput optimizations
enable_parallel_processing = true
max_concurrent_requests = 100000
enable_streaming = true
streaming_buffer_size = 10485760  # 10MB
enable_zero_copy = true

[security]
# Security configuration (enabled for mainnet)
enable_tls = true
enable_mutual_auth = true
certificate_path = "/ssl/ippan.crt"
private_key_path = "/ssl/ippan.key"
ca_certificate_path = "/ssl/ca.crt"
enable_key_rotation = true
key_rotation_interval = 86400  # 24 hours
enable_audit_logging = true
audit_log_path = "/logs/audit.log"
enable_intrusion_detection = true
max_failed_attempts = 5
lockout_duration = 300  # 5 minutes

# Encryption (enabled for mainnet)
enable_storage_encryption = true
storage_encryption_key_path = "/keys/storage.key"
enable_transport_encryption = true
enable_end_to_end_encryption = true

# Key management
enable_quantum_resistant_crypto = true
enable_key_escrow = false
enable_key_recovery = true
key_recovery_threshold = 3

[monitoring]
# Monitoring configuration for mainnet
enable_prometheus = true
prometheus_port = 9090
enable_grafana = true
grafana_port = 3001
enable_alertmanager = true
alertmanager_port = 9093
enable_log_aggregation = true
log_level = "info"  # Info level for production
log_format = "json"
log_output = "stdout"
enable_structured_logging = true
enable_tracing = true
tracing_endpoint = "http://jaeger:14268/api/traces"

# Metrics
enable_system_metrics = true
enable_application_metrics = true
enable_custom_metrics = true
metrics_retention_days = 30
enable_metrics_export = true
metrics_export_interval = 15

[staking]
# Staking configuration for mainnet
enable_staking = true
min_stake_amount = 1000000000  # 10 IPN for mainnet
max_stake_amount = 1000000000000  # 10,000 IPN for mainnet
staking_reward_rate = 0.05  # 5% annual for mainnet
reward_distribution_interval = 86400  # 24 hours for mainnet
enable_slashing = true
slashing_penalty = 0.1  # 10%
enable_delegation = true
max_delegators_per_validator = 1000
delegation_fee_rate = 0.02  # 2% for mainnet

[wallet]
# Wallet configuration for mainnet
enable_wallet = true
wallet_db_path = "/data/wallet.db"
enable_multisig = true
max_signatures = 10
enable_hardware_wallet = true
enable_offline_signing = true
enable_transaction_batching = true
batch_size = 1000
enable_fee_estimation = true
fee_estimation_window = 100

[dns]
# DNS configuration for mainnet
enable_dns = true
dns_port = 53
enable_dns_over_https = true
dns_over_https_port = 443
enable_dns_over_tls = true
dns_over_tls_port = 853
enable_dnssec = true
dns_cache_size = 10000
dns_cache_ttl = 300  # 5 minutes for mainnet
enable_dns_logging = true

[storage_dht]
# Distributed storage configuration for mainnet
enable_dht = true
dht_port = 4001
enable_file_sharding = true
shard_size = 1048576  # 1MB
replication_factor = 3
enable_erasure_coding = true
erasure_coding_data_shards = 6
erasure_coding_parity_shards = 3
enable_content_addressing = true
enable_deduplication = true
enable_compression = true
compression_level = 6

[crosschain]
# Cross-chain configuration for mainnet
enable_crosschain = true
enable_bridge = true
bridge_port = 8081
enable_atomic_swaps = true
enable_lightning_network = true
lightning_port = 9735
enable_state_channels = true
max_channel_capacity = 10000000000  # 100 IPN for mainnet
channel_timeout = 3600  # 1 hour for mainnet

[quantum]
# Quantum computing configuration for mainnet
enable_quantum_computing = true
quantum_port = 8082
enable_quantum_key_distribution = true
enable_quantum_random_number_generation = true
enable_quantum_encryption = true
quantum_key_size = 256
enable_post_quantum_cryptography = true

[iot]
# IoT configuration for mainnet
enable_iot = true
iot_port = 8083
enable_edge_computing = true
enable_sensor_data_collection = true
enable_device_management = true
max_devices_per_node = 10000
enable_data_aggregation = true
aggregation_interval = 60

[ai]
# AI/ML configuration for mainnet
enable_ai = true
ai_port = 8084
enable_model_training = true
enable_model_inference = true
enable_federated_learning = true
enable_edge_ai = true
max_model_size = 1073741824  # 1GB for mainnet
enable_model_versioning = true
enable_auto_scaling = true

[logging]
# Logging configuration for mainnet
level = "info"  # Info level for production
format = "json"
output = "stdout"
enable_file_logging = true
log_file_path = "/logs/ippan.log"
max_log_file_size = 104857600  # 100MB for mainnet
max_log_files = 10
enable_structured_logging = true
enable_log_rotation = true
enable_log_compression = true
enable_log_aggregation = true
log_aggregation_endpoint = "http://fluentd:24224"

# Performance logging
enable_performance_logging = true
performance_log_path = "/logs/performance.log"
enable_slow_query_logging = true
slow_query_threshold = 100  # 100ms for mainnet
enable_memory_logging = true
memory_log_interval = 60  # 60 seconds for mainnet

[backup]
# Backup configuration for mainnet
enable_backup = true
backup_interval = 3600  # 1 hour for mainnet
backup_retention_days = 90  # 90 days for mainnet
backup_compression = true
backup_encryption = true
backup_encryption_key_path = "/keys/backup.key"
backup_storage_path = "/backups"
enable_incremental_backup = true
enable_cloud_backup = true
cloud_backup_provider = "aws"
cloud_backup_bucket = "ippan-mainnet-backups"
cloud_backup_region = "us-east-1"

[maintenance]
# Maintenance configuration for mainnet
enable_auto_maintenance = true
maintenance_interval = 3600  # 1 hour for mainnet
maintenance_window = "02:00-04:00"
enable_database_optimization = true
enable_index_rebuilding = true
enable_cache_clearing = true
enable_log_cleanup = true
enable_temp_file_cleanup = true
enable_memory_optimization = true

[production]
# Production-specific configuration
enable_production_mode = true
enable_high_availability = true
enable_disaster_recovery = true
enable_auto_scaling = true
enable_load_balancing = true
enable_circuit_breakers = true
enable_graceful_shutdown = true
shutdown_timeout = 30
enable_health_checks = true
health_check_interval = 30
enable_metrics_collection = true
metrics_collection_interval = 15
