# IPPAN Gateway Environment Configuration
# Copy this file to .env and fill in your specific values
# DO NOT commit .env to version control!

# ============================================================================
# Server Configuration
# ============================================================================

# Gateway server port
PORT=8080

# Node environment
NODE_ENV=production  # Options: development, production

# ============================================================================
# Backend Node Configuration (REQUIRED)
# ============================================================================

# Target blockchain node RPC URL
TARGET_RPC_URL=http://localhost:8080

# Target blockchain node WebSocket URL
TARGET_WS_URL=ws://localhost:8080/ws

# Health check endpoint path
TARGET_HEALTH_PATH=/health

# Health check timeout in milliseconds
HEALTH_TIMEOUT_MS=5000

# ============================================================================
# API Routing Configuration
# ============================================================================

# API route prefix
API_PREFIX=/api

# WebSocket route prefix
WS_PREFIX=/ws

# ============================================================================
# Blockchain Explorer
# ============================================================================

# Enable or disable explorer API
ENABLE_EXPLORER=true

# Explorer API route prefix
EXPLORER_PREFIX=/explorer/api

# ============================================================================
# CORS Configuration
# ============================================================================

# Allowed origins (comma-separated list or "*" for all)
# For production, specify exact domains
# For development, you can use "*"
ALLOWED_ORIGINS=https://ippan.com,https://explorer.ippan.network,https://ippan.net

# Production example:
# ALLOWED_ORIGINS=https://ippan.com,https://ippan.network

# Development example (allow all):
# ALLOWED_ORIGINS=*

# Local development with specific port:
# ALLOWED_ORIGINS=http://localhost:3001,http://localhost:3000

# ============================================================================
# Request Limits
# ============================================================================

# Maximum JSON request body size
JSON_BODY_LIMIT=2mb

# ============================================================================
# Logging Configuration
# ============================================================================

# Proxy log level
PROXY_LOG_LEVEL=warn  # Options: error, warn, info, debug

# ============================================================================
# Production Example
# ============================================================================

# For production deployment:
# PORT=7080
# TARGET_RPC_URL=http://ippan-node:8080
# TARGET_WS_URL=ws://ippan-node:8080/ws
# ALLOWED_ORIGINS=https://ippan.com,https://explorer.ippan.network
# NODE_ENV=production
# PROXY_LOG_LEVEL=warn

# ============================================================================
# Local Development Example
# ============================================================================

# For local development:
# PORT=7080
# TARGET_RPC_URL=http://localhost:8080
# TARGET_WS_URL=ws://localhost:8080/ws
# ALLOWED_ORIGINS=*
# NODE_ENV=development
# PROXY_LOG_LEVEL=debug

# ============================================================================
# Docker Compose Example
# ============================================================================

# For docker-compose deployments:
# PORT=8080
# TARGET_RPC_URL=http://ippan-node-bootstrap:8080
# TARGET_WS_URL=ws://ippan-node-bootstrap:8080/ws
# ALLOWED_ORIGINS=*
# NODE_ENV=production

# ============================================================================
# Notes
# ============================================================================

# 1. TARGET_RPC_URL should point to a running IPPAN node
# 2. ALLOWED_ORIGINS should be restrictive in production
# 3. Use specific domains instead of "*" in production
# 4. WebSocket URLs must use ws:// or wss:// protocol
# 5. Health checks run every HEALTH_TIMEOUT_MS milliseconds
# 6. ENABLE_EXPLORER=false if you don't need explorer features
